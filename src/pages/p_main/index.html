<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/src/pages/p_main/reset.css">
    <link rel="stylesheet" href="../p_main/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script src="/src/pages/p_main/index.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>
    <style>
        body {
            /* header 70 menu 48? */
            padding-top: 125px;
        }

        .heart:hover {
            color: red;
            transform: scale(1.2);
            transition: all 0.3s ease;
        }

        .top-banner {
            width: 100%;
            background-color: #3d4c5d;
            color: white;
            text-align: center;
            padding: 0.5rem;
            font-size: 0.9rem;
        }

        /* 로그인/로그아웃 리스트 항목 스타일 */
        .login {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            margin: 0;
            list-style-type: none;
            /* 기본 리스트 스타일 제거 */
        }

        .login li {
            background-color: transparent;
            color: #333;
            font-weight: 500;
            font-size: 14px;
            padding: 8px 16px;
            cursor: pointer;
            border-radius: 6px;
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .login li:hover {
            color: #989898;
            /* 호버 시 텍스트 색상 */
            transform: scale(1.1);
            /* 호버 시 살짝 확대 */
        }

        .login a {
            text-decoration: none;
            color: inherit;
        }

        /* 최근 본 상품 */
        .recent-products {
            border-top: 2px solid #eee;
            background-color: #fff;
            margin: 50px auto;
            max-width: 1200px;
            padding: 20px 0;
        }

        .recent-products h4 {
            margin-bottom: 20px;
            padding-left: 10px;
            color: #333;
        }

        #recentContainer {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
            padding: 0 10px;
        }

        .recent-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            text-align: center;
            width: 110px;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            text-decoration: none;
            color: #222;
            transition: all 0.2s;
            font-size: 12px;
        }

        .recent-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
            background-color: #f9f9f9;
        }

        .recent-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 6px;
            margin-bottom: 8px;
            border: 1px solid #ddd;
        }

        .recent-item div {
            margin-bottom: 3px;
        }

        .recent-item div:nth-of-type(1) {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            width: 100%;
        }

        /* 푸터 */
        html,
        body {
            margin: 0;
            padding: 0;
        }

        #wrap {
            min-height: 100vh;
            position: relative;
            width: 100%;
            background-color: #f2f2f2;
        }

        section {
            padding-bottom: 105px;
        }

        footer {
            width: 100%;
            height: 125px;
            bottom: 0px;
            position: absolute;
            border-top: 1px solid #c4c4c4;
            padding-top: 15px;
            color: #808080;
            font-size: 12px;
        }

        footer a {
            display: inline-block;
            margin: 0 20px 10px 20px;
            color: #3d3d3d;
            font-size: 13px;
        }

        footer a:visited {
            color: #808080;
        }

        footer p {
            margin-top: 0;
            margin-bottom: 0;
        }

        footer p span {
            display: inline-block;
            margin-left: 20px;
        }
    </style>


</head>

<body>
    <!-- 헤더 -->
    <header>
        <div class="headerWrap">
            <!-- 헤더 왼쪽 -->
            <div class="headerLeft" onclick="location.href='../p_main/index.html'">LOGO</div>
            <!-- 헤더 오른쪽 -->
            <div class="headerRight">
                <div class="iconWrap">
                    <div class="iconBtn" onclick="location.href='./testPage.html'">
                        <i class="fa-solid fa-cart-shopping" aria-hidden="true"></i>
                        <div class="cartNum">0</div>
                    </div>
                    <div class="iconBtn" onclick="location.href='./testPage.html'">
                        <i class="fa-solid fa-user" aria-hidden="true"></i>
                    </div>
                    <ul class="login">
                        <!-- 로그인 버튼 -->
                        <li id="loginButton" onclick="login()">로그인</li>

                        <!-- 로그아웃 버튼 -->
                        <li id="logoutButton" onclick="logout()" style="display: none;">로그아웃</li>
                    </ul>

                </div>
            </div>
        </div>


    </header>
    <!-- 메뉴 -->
    <div class="menuWrap">
        <nav class="menu">
            <ul>
                <li>
                    TOP
                    <ul class="submenu">
                        <li onclick="loadGallery('galleryTshirts.html')">티셔츠</li>
                        <li onclick="loadGallery('galleryShirts.html')">셔츠 & 블라우스</li>
                    </ul>
                </li>
                <li>
                    OUTER
                    <ul class="submenu">
                        <li onclick="loadGallery('galleryJacket.html')">자켓</li>
                        <li onclick="loadGallery('galleryCoat.html')">코트</li>
                    </ul>
                </li>
                <li>
                    PANTS
                    <ul class="submenu">
                        <li onclick="loadGallery('galleryJeans.html')">청바지</li>
                        <li onclick="loadGallery('gallerySlacks.html')">슬랙스</li>
                    </ul>
                </li>
            </ul>
        </nav>
    </div>
    </div>
    <div class="top-banner">
        지금 가입하면 10% 할인 쿠폰 증정
    </div>


    <main id="mainContent">
        <!-- 슬라이드 -->
        <div id="visualSlider" class="carousel slide">
            <div class="carousel-inner" id="imgContainer">
                <div class="carousel-item active" id="imgBox">
                    <div class="d-flex justify-content-center">
                        <a href="../../image/imgs/5.jpg" class="d-block w-45">
                            <img src="../../image/imgs/b1.webp" class="d-block w-45">
                        </a>
                        <a href="/src/pages/p_mainPage/testPage.html" class="d-block w-45">
                            <img src="../../image/imgs/b14.jpg" class="d-block w-45">
                        </a>
                    </div>
                </div>
                <div class="carousel-item" id="imgBox">
                    <div class="d-flex justify-content-center">
                        <a href="/src/pages/p_mainPage/testPage.html" class="d-block w-45">
                            <img src="../../image/imgs/b5.jpg" class="d-block w-45">
                        </a>
                        <a href="/src/pages/p_mainPage/testPage.html" class="d-block w-45">
                            <img src="../../image/imgs/b6.jpg" class="d-block w-45">
                        </a>
                    </div>
                </div>
                <div class="carousel-item" id="imgBox">
                    <div class="d-flex justify-content-center">
                        <a href="/src/pages/p_mainPage/testPage.html" class="d-block w-45">
                            <img src="../../image/imgs/b17.jpg" class="d-block w-45">
                        </a>
                        <a href="/src/pages/p_mainPage/testPage.html" class="d-block w-45">
                            <img src="../../image/imgs/b12.jpg" class="d-block w-45">
                        </a>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#visualSlider" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#visualSlider" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>


        <!-- 갤러리 -->
        <div class="product-summary">
            <h4>NEW ARRIVAL</h4>
            <h6>오늘의 신상</h6>
        </div>
        <section class="products">
            <!-- 큰 사진 시작 -->
            <div class="bigArticleContainer">
                <div class="bigArticleScroll">
                    <div class="bigArticleBox">
                        <article class="bigArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/5.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>리얼가죽 무스탕</b>
                                    <div><del>87,000원</del></div>
                                    <div class="price">55,000원</div>
                                </div>
                            </a>
                            <!-- 기본 하트 -->
                        </article>
                        <article class="bigArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/b5.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>[1+1] 기본 버튼 반팔티</b>
                                    <div><del>15,000원</del></div>
                                    <div class="price">7,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="bigArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/b8.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>정장 스타일 무지 조끼</b>
                                    <div><del>45,000원</del></div>
                                    <div class="price">40,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="bigArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="/src/image/imgs/b14.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>스키니핏 씨블루 정장 자켓</b>
                                    <div><del>53,000원</del></div>
                                    <div class="price">45,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="bigArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/b4.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>프리미엄 올라운드 데님셔츠</b>
                                    <div><del>33,000원</del></div>
                                    <div class="price">30,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="bigArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/b13.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>프렌치 울 라운드 니트</b>
                                    <div><del>41,000원</del></div>
                                    <div class="price">35,000원</div>
                                </div>
                            </a>
                        </article>
                    </div>
                </div>
                <!-- 화살표 버튼 -->
                <div class="slideArticle">
                    <button type="button" class="prevBigArticle"></button>
                    <button type="button" class="nextBigArticle"></button>
                </div>

            </div>
            <!-- 큰 사진 끝 -->

            <!-- 작은 사진 시작 -->
            <div class="smallArticleContainer">
                <div class="smallArticleScroll">
                    <div class="smallArticleBox">
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/b1.webp">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>리얼가죽 무스탕</b>
                                    <div><del>87,000원</del></div>
                                    <div class="price">55,000원</div>
                                </div>
                            </a>

                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/10.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>[1+1] 기본 버튼 반팔티</b>
                                    <div><del>15,000원</del></div>
                                    <div class="price">7,000원</div>
                                </div>
                            </a>

                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/14.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>정장 스타일 무지 조끼</b>
                                    <div><del>45,000원</del></div>
                                    <div class="price">40,000원</div>
                                </div>
                            </a>

                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/17.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>스키니핏 씨블루 정장 자켓</b>
                                    <div><del>53,000원</del></div>
                                    <div class="price">45,000원</div>
                                </div>
                            </a>

                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/14.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>프리미엄 올라운드 데님셔츠</b>
                                    <div><del>33,000원</del></div>
                                    <div class="price">30,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/10.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>프렌치 울 라운드 니트</b>
                                    <div><del>41,000원</del></div>
                                    <div class="price">35,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/17.jpg">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>카라 골지 롱원피스</b>
                                    <div><del>67,000원</del></div>
                                    <div class="price">59,000원</div>
                                </div>
                            </a>
                        </article>
                        <article class="smallArticle">
                            <a href="#">
                                <div class="thumb">
                                    <img src="../../image/imgs/20.avif">
                                    <button class="heart" aria-label="찜하기">&#9825;</button> <!-- 기본 하트 -->
                                </div>
                                <div class="info">
                                    <b>오버핏 워싱 트렌치코트</b>
                                    <div><del>92,000원</del></div>
                                    <div class="price">78,000원</div>
                                </div>
                            </a>
                        </article>
                    </div>
                </div>

                <!-- 화살표 버튼 -->
                <div class="slideArticle">
                    <button type="button" class="prevSmallArticle"></button>
                    <button type="button" class="nextSmallArticle"></button>
                </div>
            </div>
            <!-- 작은 사진 끝 -->
        </section>
    </main>


    <!--  최근 본 상품 영역 추가 -->
    <div class="recent-products">
        <h4>최근 본 상품</h4>
        <div id="recentContainer"></div>
    </div>


    


    <!-- 최근 본 상품 스크립트 -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const productLinks = document.querySelectorAll(".products a");
            productLinks.forEach(link => {
                link.addEventListener("click", () => {
                    const img = link.querySelector("img");
                    const name = link.querySelector("b")?.innerText || "";
                    const price = link.querySelector(".price")?.innerText.replace(/[^0-9]/g, '') || "0";
                    const href = link.getAttribute("href") || "#";

                    const product = {
                        name,
                        price,
                        img: img?.src || "",
                        url: href
                    };

                    let recent = JSON.parse(localStorage.getItem("recentProducts")) || [];
                    recent = recent.filter(p => p.name !== product.name);
                    recent.unshift(product);
                    if (recent.length > 5) recent.pop();
                    localStorage.setItem("recentProducts", JSON.stringify(recent));
                });
            });

            const container = document.getElementById("recentContainer");
            const recent = JSON.parse(localStorage.getItem("recentProducts")) || [];
            recent.forEach(p => {
                const item = document.createElement("a");
                item.className = "recent-item";
                item.href = p.url || "#";
                item.innerHTML = `
                    <img src="${p.img}" alt="${p.name}">
                    <div>${p.name}</div>
                    <div>${Number(p.price).toLocaleString()}원</div>
                `;
                container.appendChild(item);
            });
        });
    </script>

</body>

</html>